# ======= WORKSPACES ======= #

windowrulev2 = workspace 1 silent, tag:gaming

windowrulev2 = workspace 2 silent, tag:development
windowrulev2 = workspace 2 silent, tag:devtools

windowrulev2 = workspace 3 silent, tag:browser

windowrulev2 = workspace 4 silent, tag:communication
windowrulev2 = workspace 4 silent, tag:email

windowrulev2 = workspace 5 silent, tag:audio

# ======= DEVELOPMENT ======= #

# Code Editors and IDEs
windowrulev2 = tag +development, class:(code|Code|code-oss|codium)
windowrulev2 = tag +development, class:(neovim|nvim|vim)
windowrulev2 = tag +development, class:(jetbrains-.*)
windowrulev2 = tag +development, class:(android-studio)
windowrulev2 = tag +development, class:(eclipse)

# Development Tools and Terminals
windowrulev2 = tag +devtools, class:(dbeaver|postman|insomnia)
windowrulev2 = tag +terminal, class:(kitty|alacritty|wezterm|foot|gnome-terminal)
windowrulev2 = tag +terminal, class:(org.gnome.Terminal|terminator|tilix)

# Version Control and Collaboration
windowrulev2 = tag +development, class:(github-desktop|gitkraken)
windowrulev2 = tag +development, title:.*git.*

# ======= BROWSERS ======= #

# Main Browsers
windowrulev2 = tag +browser, class:(firefox|Firefox|zen|Zen|zen-beta)
windowrulev2 = tag +browser, class:(brave-browser|Brave-browser)
windowrulev2 = tag +browser, class:(chromium|google-chrome)
windowrulev2 = tag +browser, class:(librewolf|tor-browser)

# ======= COMMUNICATION ======= #

# Chat and Messaging
windowrulev2 = tag +communication, class:(vesktop|discord|Discord)
windowrulev2 = tag +communication, class:(telegram|Telegram)
windowrulev2 = tag +communication, class:(signal|Signal)
windowrulev2 = tag +communication, class:(slack|Slack)
windowrulev2 = tag +communication, class:(teams|Teams|ms-teams)
windowrulev2 = tag +communication, class:(whatsapp|element|matrix)

# Email Clients
windowrulev2 = tag +email, class:(thunderbird|Thunderbird)
windowrulev2 = tag +email, class:(evolution|geary|mailspring)

# Video Conferencing
windowrulev2 = tag +video-call, class:(zoom|skype|jitsi)
windowrulev2 = tag +video-call, title:.*(Meet|Zoom|Teams).*

# ======= MEDIA ======= #

# Video Players
windowrulev2 = tag +media, class:(vlc|mpv|celluloid|clapper)
windowrulev2 = tag +media, class:(totem|dragon|haruna|kdenlive)

# Audio Applications
windowrulev2 = tag +audio, class:(spotify|rhythmbox|audacious|deadbeef)
windowrulev2 = tag +audio, class:(pavucontrol|pwvucontrol|helvum|qpwgraph|carla)
windowrulev2 = tag +audio, class:(audacity|reaper|ardour)

# Audio Control Applets
windowrulev2 = tag +audio-control, class:(com.saivert.pwvucontrol)
windowrulev2 = float, tag:audio-control
windowrulev2 = center, tag:audio-control
windowrulev2 = size 60% 60%, tag:audio-control

# Image Viewers and Editors
windowrulev2 = tag +image, class:(eog|gwenview|feh|sxiv|imv)
windowrulev2 = tag +image, class:(gimp|krita|inkscape|blender)

# Media Creation and Editing
windowrulev2 = tag +media-creation, class:(obs|obs-studio|kdenlive|openshot)
windowrulev2 = tag +media-creation, class:(davinci-resolve|lightworks)

# ======= GAMING ======= #

# Game Clients and Launchers
windowrulev2 = tag +gaming, class:(steam|Steam)
windowrulev2 = tag +gaming, class:(steam_app_.*)
windowrulev2 = tag +gaming, class:(lutris|heroic|bottles|playonlinux)
windowrulev2 = tag +gaming, class:(epic.*|origin|ubisoft.*|gog)

# Game-related Tools
windowrulev2 = tag +gaming, class:(gamescope|mangohud|goverlay)
windowrulev2 = tag +gaming, class:(gamemode|corectrl)

# Emulators
windowrulev2 = tag +gaming, class:(retroarch|dolphin-emu|pcsx2|rpcs3)
windowrulev2 = tag +gaming, class:(cemu|yuzu|ryujinx|xenia)

# ======= PRODUCTIVITY ======= #

# Office Suites
windowrulev2 = tag +office, class:(libreoffice.*|onlyoffice|calligra.*)
windowrulev2 = tag +office, class:(writer|calc|impress|draw|math)

# Note-taking and Knowledge Management
windowrulev2 = tag +notes, class:(obsidian|notion|logseq|joplin)
windowrulev2 = tag +notes, class:(typora|marktext|ghostwriter)
windowrulev2 = tag +notes, class:(zettlr|trilium|cherrytree)

# PDF and Document Viewers
windowrulev2 = tag +documents, class:(evince|okular|zathura|mupdf)
windowrulev2 = tag +documents, class:(atril|qpdfview|xreader)

# ======= SYSTEM AND FILE MANAGEMENT ======= #

# File Managers
windowrulev2 = tag +files, class:(thunar|nemo|dolphin|nautilus)
windowrulev2 = tag +files, class:(pcmanfm|caja|ranger|mc)

# System Monitors and Tools
windowrulev2 = tag +system, class:(htop|btop|gotop|system-monitor)
windowrulev2 = tag +system, class:(gnome-system-monitor|ksysguard|stacer)

# Archive Managers
windowrulev2 = tag +archives, class:(file-roller|ark|engrampa|xarchiver)

# ======= SECURITY ======= #

# Password Managers
windowrulev2 = tag +security, class:(bitwarden|keepassxc|1password)

# VPN and Network Security
windowrulev2 = tag +security, class:(openvpn|wireguard|mullvad|expressvpn)
windowrulev2 = tag +security, class:(tor.*|torbrowser|i2p)

# ======= VIRTUALIZATION ======= #

# Virtual Machines
windowrulev2 = tag +virtualization, class:(virt-manager|virtualbox|vmware)
windowrulev2 = tag +virtualization, class:(qemu|gnome-boxes|parallels)

# ======= MISCELLANEOUS ======= #

# Utilities
windowrulev2 = tag +utilities, class:(org.gnome.Calculator|calculator|galculator|qalculate)
windowrulev2 = tag +utilities, class:(bleachbit|stacer|gparted)
windowrulev2 = tag +utilities, class:(waypaper)

# Network Management
windowrulev2 = tag +network-control, class:(nm-connection-editor|NetworkManager)
windowrulev2 = float, tag:network-control
windowrulev2 = center, tag:network-control
windowrulev2 = size 55% 65%, tag:network-control

# Bluetooth Management
windowrulev2 = tag +bluetooth-control, class:(io.github.kaii_lb.Overskride|blueman-manager)
windowrulev2 = float, tag:bluetooth-control
windowrulev2 = center, tag:bluetooth-control
windowrulev2 = size 50% 60%, tag:bluetooth-control

# Screenshot and Screen Recording
windowrulev2 = tag +screenshot, class:(flameshot|spectacle|gnome-screenshot)
windowrulev2 = tag +screenshot, class:(peek|simplescreenrecorder|kooha)

# ======= TAG-BASED VISUAL RULES ======= #

# Opacity settings based on application type
# windowrulev2 = opacity 0.9, tag:development
# windowrulev2 = opacity 0.8, tag:terminal
# windowrulev2 = opacity 1.0, tag:gaming
# windowrulev2 = opacity 0.95, tag:media
# windowrulev2 = opacity 0.92, tag:files

# Floating rules for specific application types
windowrulev2 = float, tag:utilities
windowrulev2 = float, tag:screenshot
windowrulev2 = float, tag:archives

# Size rules for floating applications
windowrulev2 = size 30% 70%, tag:utilities
windowrulev2 = size 70% 70%, tag:media
windowrulev2 = center, tag:utilities
windowrulev2 = center, tag:media

# ======= SPECIAL CASES ======= #

# Allow Tearing
windowrulev2 = immediate, class:^(cs2|dota2)$

# Picture-in-Picture windows
windowrulev2 = tag +pip, title:^(Picture-in-Picture)$
windowrulev2 = tag +pip, title:^(Picture in picture)$
windowrulev2 = float, tag:pip
windowrulev2 = pin, tag:pip
windowrulev2 = size 25%, tag:pip
windowrulev2 = move 100%-498 75, tag:pip

# Dialog windows
windowrulev2 = tag +dialog, title:^(Save File|Open File)$
windowrulev2 = float, tag:dialog
windowrulev2 = center, tag:dialog

# System authentication dialogs
windowrulev2 = tag +auth, class:^(polkit-gnome-authentication-agent-1|hyprpolkitagent)$
windowrulev2 = float, tag:auth
windowrulev2 = center, tag:auth

# Screensharing fix
windowrule = opacity 0.0 override, class:^(xwaylandvideobridge)$
windowrule = noanim, class:^(xwaylandvideobridge)$
windowrule = noinitialfocus, class:^(xwaylandvideobridge)$
windowrule = maxsize 1 1, class:^(xwaylandvideobridge)$
windowrule = noblur, class:^(xwaylandvideobridge)$
windowrule = nofocus, class:^(xwaylandvideobridge)$

# ======= TRANSPARENCY FIXES ======= #

# Remove borders, blur, and effects from game launchers with transparent elements

# windowrulev2 = nodim, class:^()$
# windowrulev2 = noblur, class:^()$  
# windowrulev2 = noshadow, class:^()$
# windowrulev2 = noborder, class:^()$
# windowrulev2 = norounding, class:^()$
# windowrulev2 = opaque, class:^()$